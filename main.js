/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => CypherPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var DEFAULT_SETTINGS = {
  cypherStyle: "diagrammatic"
};
var CypherPlugin = class extends import_obsidian.Plugin {
  constructor() {
    super(...arguments);
    this.isTypingHandled = false;
    this.isCypherEnabled = false;
  }
  async onload() {
    await this.loadSettings();
    this.addRibbonIcon("dice", "Cypher Text", () => {
      this.isCypherEnabled = !this.isCypherEnabled;
      if (this.isCypherEnabled) {
        new import_obsidian.Notice("Cypher Plugin Activated!");
        this.applyCypher();
      } else {
        new import_obsidian.Notice("Cypher Plugin Deactivated!");
        this.revertCypher();
      }
    }).addClass("cypher-plugin-ribbon-class");
    this.addCommand({
      id: "cypher-transform",
      name: "Transform Selected Text to Cypher",
      editorCallback: (editor, view) => this.transformText(editor)
    });
    this.addSettingTab(new CypherSettingTab(this.app, this));
    this.registerEvent(
      this.app.workspace.on("editor-change", () => {
        var _a;
        const editor = (_a = this.app.workspace.getActiveViewOfType(import_obsidian.MarkdownView)) == null ? void 0 : _a.editor;
        if (editor && this.isCypherEnabled) {
          this.debounceTyping(editor, 500);
        }
      })
    );
  }
  onunload() {
    console.log("Cypher Plugin unloaded.");
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  // Debounce function to delay the execution of handleTyping
  debounceTyping(editor, delay = 500) {
    if (this.isTypingHandled)
      return;
    if (this.typingTimeout)
      clearTimeout(this.typingTimeout);
    this.isTypingHandled = true;
    this.typingTimeout = window.setTimeout(() => {
      this.handleTyping(editor);
      this.isTypingHandled = false;
    }, delay);
  }
  // Cypher transformation with distinct symbols for uppercase and lowercase
  toCypherText(input) {
    const iconCypherMap = {
      A: "\u{1F53A}",
      B: "\u{1F171}\uFE0F",
      C: "\u{1F31C}",
      D: "\u{1F537}",
      E: "\u{1F34F}",
      F: "\u{1F340}",
      G: "\u{1F300}",
      H: "\u{1F3E0}",
      I: "\u{1F98B}",
      J: "\u{1F3B7}",
      K: "\u{1F511}",
      L: "\u{1F33F}",
      M: "\u{1F3C6}",
      N: "\u{1F3B5}",
      O: "\u{1F48E}",
      P: "\u{1F3A9}",
      Q: "\u{1F388}",
      R: "\u{1F339}",
      S: "\u{1F31E}",
      T: "\u{1F3BE}",
      U: "\u{1F422}",
      V: "\u{1F3BB}",
      W: "\u{1F349}",
      X: "\u274C",
      Y: "\u{1F331}",
      Z: "\u26A1\uFE0F",
      a: "\u{1F34E}",
      b: "\u{1F34C}",
      c: "\u{1F352}",
      d: "\u{1F369}",
      e: "\u{1F33D}",
      f: "\u{1F438}",
      g: "\u{1F98D}",
      h: "\u{1F36F}",
      i: "\u{1F366}",
      j: "\u{1F336}\uFE0F",
      k: "\u{1F95D}",
      l: "\u{1F981}",
      m: "\u{1F348}",
      n: "\u{1F95C}",
      o: "\u{1F34A}",
      p: "\u{1F355}",
      q: "\u{1F451}",
      r: "\u{1F400}",
      s: "\u{1F40D}",
      t: "\u{1F32E}",
      u: "\u{1F421}",
      v: "\u{1F347}",
      w: "\u{1F4AB}",
      x: "\u{1F36A}",
      y: "\u{1F993}",
      z: "\u{1F36B}"
    };
    let result = "";
    let wasLastCharSpace = false;
    for (let i = 0; i < input.length; i++) {
      const char = input[i];
      if (char === " ") {
        if (!wasLastCharSpace) {
          result += "  ";
          wasLastCharSpace = true;
        }
      } else {
        result += iconCypherMap[char] || char;
        wasLastCharSpace = false;
      }
    }
    return result;
  }
  // Revert cyphered text back to normal
  revertCypherText(input) {
    const reverseCypherMap = {
      "\u{1F53A}": "A",
      "\u{1F171}\uFE0F": "B",
      "\u{1F31C}": "C",
      "\u{1F537}": "D",
      "\u{1F34F}": "E",
      "\u{1F340}": "F",
      "\u{1F300}": "G",
      "\u{1F3E0}": "H",
      "\u{1F98B}": "I",
      "\u{1F3B7}": "J",
      "\u{1F511}": "K",
      "\u{1F33F}": "L",
      "\u{1F3C6}": "M",
      "\u{1F3B5}": "N",
      "\u{1F48E}": "O",
      "\u{1F3A9}": "P",
      "\u{1F388}": "Q",
      "\u{1F339}": "R",
      "\u{1F31E}": "S",
      "\u{1F3BE}": "T",
      "\u{1F422}": "U",
      "\u{1F3BB}": "V",
      "\u{1F349}": "W",
      "\u274C": "X",
      "\u{1F331}": "Y",
      "\u26A1\uFE0F": "Z",
      "\u{1F34E}": "a",
      "\u{1F34C}": "b",
      "\u{1F352}": "c",
      "\u{1F369}": "d",
      "\u{1F33D}": "e",
      "\u{1F438}": "f",
      "\u{1F98D}": "g",
      "\u{1F36F}": "h",
      "\u{1F366}": "i",
      "\u{1F336}\uFE0F": "j",
      "\u{1F95D}": "k",
      "\u{1F981}": "l",
      "\u{1F348}": "m",
      "\u{1F95C}": "n",
      "\u{1F34A}": "o",
      "\u{1F355}": "p",
      "\u{1F451}": "q",
      "\u{1F400}": "r",
      "\u{1F40D}": "s",
      "\u{1F32E}": "t",
      "\u{1F421}": "u",
      "\u{1F347}": "v",
      "\u{1F4AB}": "w",
      "\u{1F36A}": "x",
      "\u{1F993}": "y",
      "\u{1F36B}": "z"
    };
    return Array.from(input).map((char) => reverseCypherMap[char] || char).join("");
  }
  handleTyping(editor) {
    const cursor = editor.getCursor();
    const lineText = editor.getLine(cursor.line);
    const modifiedText = this.isCypherEnabled ? this.toCypherText(lineText) : this.revertCypherText(lineText);
    editor.setLine(cursor.line, modifiedText);
  }
  applyCypher() {
    var _a;
    const editor = (_a = this.app.workspace.getActiveViewOfType(import_obsidian.MarkdownView)) == null ? void 0 : _a.editor;
    if (editor) {
      const fullText = editor.getValue();
      editor.setValue(this.toCypherText(fullText));
    }
  }
  revertCypher() {
    var _a;
    const editor = (_a = this.app.workspace.getActiveViewOfType(import_obsidian.MarkdownView)) == null ? void 0 : _a.editor;
    if (editor) {
      const fullText = editor.getValue();
      editor.setValue(this.revertCypherText(fullText));
    }
  }
  transformText(editor) {
    const selections = editor.getSelection();
    const cypheredText = this.isCypherEnabled ? this.toCypherText(selections) : this.revertCypherText(selections);
    editor.replaceSelection(cypheredText);
  }
};
var CypherSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Cypher Plugin Settings" });
    new import_obsidian.Setting(containerEl).setName("Cypher Style").setDesc("Choose the style for cyphering text").addDropdown((dropdown) => dropdown.addOption("diagrammatic", "Diagrammatic").setValue(this.plugin.settings.cypherStyle).onChange(async (value) => {
      this.plugin.settings.cypherStyle = value;
      await this.plugin.saveSettings();
    }));
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQXBwLCBFZGl0b3IsIE1hcmtkb3duVmlldywgTm90aWNlLCBQbHVnaW4sIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcgfSBmcm9tICdvYnNpZGlhbic7XG5cbmludGVyZmFjZSBDeXBoZXJQbHVnaW5TZXR0aW5ncyB7XG5cdGN5cGhlclN0eWxlOiBzdHJpbmc7XG59XG5cbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IEN5cGhlclBsdWdpblNldHRpbmdzID0ge1xuXHRjeXBoZXJTdHlsZTogJ2RpYWdyYW1tYXRpYydcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEN5cGhlclBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG5cdHNldHRpbmdzOiBDeXBoZXJQbHVnaW5TZXR0aW5ncztcblx0cHJpdmF0ZSB0eXBpbmdUaW1lb3V0OiBudW1iZXIgfCB1bmRlZmluZWQ7XG5cdHByaXZhdGUgaXNUeXBpbmdIYW5kbGVkOiBib29sZWFuID0gZmFsc2U7XG5cdHByaXZhdGUgaXNDeXBoZXJFbmFibGVkOiBib29sZWFuID0gZmFsc2U7XG5cblx0YXN5bmMgb25sb2FkKCkge1xuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cblx0XHQvLyBSaWJib24gaWNvbiBmb3IgdG9nZ2xpbmcgY3lwaGVyIG1vZGVcblx0XHR0aGlzLmFkZFJpYmJvbkljb24oJ2RpY2UnLCAnQ3lwaGVyIFRleHQnLCAoKSA9PiB7XG5cdFx0XHR0aGlzLmlzQ3lwaGVyRW5hYmxlZCA9ICF0aGlzLmlzQ3lwaGVyRW5hYmxlZDtcblx0XHRcdGlmICh0aGlzLmlzQ3lwaGVyRW5hYmxlZCkge1xuXHRcdFx0XHRuZXcgTm90aWNlKCdDeXBoZXIgUGx1Z2luIEFjdGl2YXRlZCEnKTtcblx0XHRcdFx0dGhpcy5hcHBseUN5cGhlcigpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bmV3IE5vdGljZSgnQ3lwaGVyIFBsdWdpbiBEZWFjdGl2YXRlZCEnKTtcblx0XHRcdFx0dGhpcy5yZXZlcnRDeXBoZXIoKTtcblx0XHRcdH1cblx0XHR9KS5hZGRDbGFzcygnY3lwaGVyLXBsdWdpbi1yaWJib24tY2xhc3MnKTtcblxuXHRcdC8vIENvbW1hbmQgdG8gY3lwaGVyIHNlbGVjdGVkIHRleHRcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6ICdjeXBoZXItdHJhbnNmb3JtJyxcblx0XHRcdG5hbWU6ICdUcmFuc2Zvcm0gU2VsZWN0ZWQgVGV4dCB0byBDeXBoZXInLFxuXHRcdFx0ZWRpdG9yQ2FsbGJhY2s6IChlZGl0b3I6IEVkaXRvciwgdmlldzogTWFya2Rvd25WaWV3KSA9PiB0aGlzLnRyYW5zZm9ybVRleHQoZWRpdG9yKSxcblx0XHR9KTtcblxuXHRcdC8vIEFkZCBzZXR0aW5ncyB0YWJcblx0XHR0aGlzLmFkZFNldHRpbmdUYWIobmV3IEN5cGhlclNldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcblxuXHRcdC8vIEVkaXRvciBjaGFuZ2UgZXZlbnQgZm9yIHJlYWwtdGltZSB0eXBpbmcgdHJhbnNmb3JtYXRpb25cblx0XHR0aGlzLnJlZ2lzdGVyRXZlbnQoXG5cdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uub24oXCJlZGl0b3ItY2hhbmdlXCIsICgpID0+IHtcblx0XHRcdFx0Y29uc3QgZWRpdG9yID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KT8uZWRpdG9yO1xuXHRcdFx0XHRpZiAoZWRpdG9yICYmIHRoaXMuaXNDeXBoZXJFbmFibGVkKSB7XG5cdFx0XHRcdFx0dGhpcy5kZWJvdW5jZVR5cGluZyhlZGl0b3IsIDUwMCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cdFx0KTtcblx0fVxuXG5cdG9udW5sb2FkKCkge1xuXHRcdGNvbnNvbGUubG9nKFwiQ3lwaGVyIFBsdWdpbiB1bmxvYWRlZC5cIik7XG5cdH1cblxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG5cdFx0dGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XG5cdH1cblxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcblx0fVxuXG5cdC8vIERlYm91bmNlIGZ1bmN0aW9uIHRvIGRlbGF5IHRoZSBleGVjdXRpb24gb2YgaGFuZGxlVHlwaW5nXG5cdGRlYm91bmNlVHlwaW5nKGVkaXRvcjogRWRpdG9yLCBkZWxheSA9IDUwMCkge1xuXHRcdGlmICh0aGlzLmlzVHlwaW5nSGFuZGxlZCkgcmV0dXJuO1xuXG5cdFx0Ly8gQ2xlYXIgZXhpc3RpbmcgdGltZW91dCwgaWYgYW55XG5cdFx0aWYgKHRoaXMudHlwaW5nVGltZW91dCkgY2xlYXJUaW1lb3V0KHRoaXMudHlwaW5nVGltZW91dCk7XG5cblx0XHR0aGlzLmlzVHlwaW5nSGFuZGxlZCA9IHRydWU7XG5cdFx0dGhpcy50eXBpbmdUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0dGhpcy5oYW5kbGVUeXBpbmcoZWRpdG9yKTtcblx0XHRcdHRoaXMuaXNUeXBpbmdIYW5kbGVkID0gZmFsc2U7XG5cdFx0fSwgZGVsYXkpO1xuXHR9XG5cblx0Ly8gQ3lwaGVyIHRyYW5zZm9ybWF0aW9uIHdpdGggZGlzdGluY3Qgc3ltYm9scyBmb3IgdXBwZXJjYXNlIGFuZCBsb3dlcmNhc2Vcblx0dG9DeXBoZXJUZXh0KGlucHV0OiBzdHJpbmcpOiBzdHJpbmcge1xuXHRcdGNvbnN0IGljb25DeXBoZXJNYXA6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG5cdFx0XHRBOiBcIlx1RDgzRFx1REQzQVwiLCBCOiBcIlx1RDgzQ1x1REQ3MVx1RkUwRlwiLCBDOiBcIlx1RDgzQ1x1REYxQ1wiLCBEOiBcIlx1RDgzRFx1REQzN1wiLCBFOiBcIlx1RDgzQ1x1REY0RlwiLFxuXHRcdFx0RjogXCJcdUQ4M0NcdURGNDBcIiwgRzogXCJcdUQ4M0NcdURGMDBcIiwgSDogXCJcdUQ4M0NcdURGRTBcIiwgSTogXCJcdUQ4M0VcdUREOEJcIiwgSjogXCJcdUQ4M0NcdURGQjdcIixcblx0XHRcdEs6IFwiXHVEODNEXHVERDExXCIsIEw6IFwiXHVEODNDXHVERjNGXCIsIE06IFwiXHVEODNDXHVERkM2XCIsIE46IFwiXHVEODNDXHVERkI1XCIsIE86IFwiXHVEODNEXHVEQzhFXCIsXG5cdFx0XHRQOiBcIlx1RDgzQ1x1REZBOVwiLCBROiBcIlx1RDgzQ1x1REY4OFwiLCBSOiBcIlx1RDgzQ1x1REYzOVwiLCBTOiBcIlx1RDgzQ1x1REYxRVwiLCBUOiBcIlx1RDgzQ1x1REZCRVwiLFxuXHRcdFx0VTogXCJcdUQ4M0RcdURDMjJcIiwgVjogXCJcdUQ4M0NcdURGQkJcIiwgVzogXCJcdUQ4M0NcdURGNDlcIiwgWDogXCJcdTI3NENcIiwgWTogXCJcdUQ4M0NcdURGMzFcIixcblx0XHRcdFo6IFwiXHUyNkExXHVGRTBGXCIsIFxuXHRcdFx0YTogXCJcdUQ4M0NcdURGNEVcIiwgYjogXCJcdUQ4M0NcdURGNENcIiwgYzogXCJcdUQ4M0NcdURGNTJcIiwgZDogXCJcdUQ4M0NcdURGNjlcIiwgZTogXCJcdUQ4M0NcdURGM0RcIixcblx0XHRcdGY6IFwiXHVEODNEXHVEQzM4XCIsIGc6IFwiXHVEODNFXHVERDhEXCIsIGg6IFwiXHVEODNDXHVERjZGXCIsIGk6IFwiXHVEODNDXHVERjY2XCIsIGo6IFwiXHVEODNDXHVERjM2XHVGRTBGXCIsXG5cdFx0XHRrOiBcIlx1RDgzRVx1REQ1RFwiLCBsOiBcIlx1RDgzRVx1REQ4MVwiLCBtOiBcIlx1RDgzQ1x1REY0OFwiLCBuOiBcIlx1RDgzRVx1REQ1Q1wiLCBvOiBcIlx1RDgzQ1x1REY0QVwiLFxuXHRcdFx0cDogXCJcdUQ4M0NcdURGNTVcIiwgcTogXCJcdUQ4M0RcdURDNTFcIiwgcjogXCJcdUQ4M0RcdURDMDBcIiwgczogXCJcdUQ4M0RcdURDMERcIiwgdDogXCJcdUQ4M0NcdURGMkVcIixcblx0XHRcdHU6IFwiXHVEODNEXHVEQzIxXCIsIHY6IFwiXHVEODNDXHVERjQ3XCIsIHc6IFwiXHVEODNEXHVEQ0FCXCIsIHg6IFwiXHVEODNDXHVERjZBXCIsIHk6IFwiXHVEODNFXHVERDkzXCIsXG5cdFx0XHR6OiBcIlx1RDgzQ1x1REY2QlwiXG5cdFx0fTtcblx0XHRcblx0XG5cdFx0bGV0IHJlc3VsdCA9IFwiXCI7XG5cdFx0bGV0IHdhc0xhc3RDaGFyU3BhY2UgPSBmYWxzZTtcblx0XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dC5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y29uc3QgY2hhciA9IGlucHV0W2ldO1xuXHRcblx0XHRcdGlmIChjaGFyID09PSBcIiBcIikge1xuXHRcdFx0XHRpZiAoIXdhc0xhc3RDaGFyU3BhY2UpIHtcblx0XHRcdFx0XHRyZXN1bHQgKz0gXCIgIFwiO1xuXHRcdFx0XHRcdHdhc0xhc3RDaGFyU3BhY2UgPSB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXN1bHQgKz0gaWNvbkN5cGhlck1hcFtjaGFyXSB8fCBjaGFyO1xuXHRcdFx0XHR3YXNMYXN0Q2hhclNwYWNlID0gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG5cblx0Ly8gUmV2ZXJ0IGN5cGhlcmVkIHRleHQgYmFjayB0byBub3JtYWxcblx0cmV2ZXJ0Q3lwaGVyVGV4dChpbnB1dDogc3RyaW5nKTogc3RyaW5nIHtcblx0XHRjb25zdCByZXZlcnNlQ3lwaGVyTWFwOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuXHRcdFx0XCJcdUQ4M0RcdUREM0FcIjogXCJBXCIsIFwiXHVEODNDXHVERDcxXHVGRTBGXCI6IFwiQlwiLCBcIlx1RDgzQ1x1REYxQ1wiOiBcIkNcIiwgXCJcdUQ4M0RcdUREMzdcIjogXCJEXCIsIFwiXHVEODNDXHVERjRGXCI6IFwiRVwiLFxuXHRcdFx0XCJcdUQ4M0NcdURGNDBcIjogXCJGXCIsIFwiXHVEODNDXHVERjAwXCI6IFwiR1wiLCBcIlx1RDgzQ1x1REZFMFwiOiBcIkhcIiwgXCJcdUQ4M0VcdUREOEJcIjogXCJJXCIsIFwiXHVEODNDXHVERkI3XCI6IFwiSlwiLFxuXHRcdFx0XCJcdUQ4M0RcdUREMTFcIjogXCJLXCIsIFwiXHVEODNDXHVERjNGXCI6IFwiTFwiLCBcIlx1RDgzQ1x1REZDNlwiOiBcIk1cIiwgXCJcdUQ4M0NcdURGQjVcIjogXCJOXCIsIFwiXHVEODNEXHVEQzhFXCI6IFwiT1wiLFxuXHRcdFx0XCJcdUQ4M0NcdURGQTlcIjogXCJQXCIsIFwiXHVEODNDXHVERjg4XCI6IFwiUVwiLCBcIlx1RDgzQ1x1REYzOVwiOiBcIlJcIiwgXCJcdUQ4M0NcdURGMUVcIjogXCJTXCIsIFwiXHVEODNDXHVERkJFXCI6IFwiVFwiLFxuXHRcdFx0XCJcdUQ4M0RcdURDMjJcIjogXCJVXCIsIFwiXHVEODNDXHVERkJCXCI6IFwiVlwiLCBcIlx1RDgzQ1x1REY0OVwiOiBcIldcIiwgXCJcdTI3NENcIjogXCJYXCIsIFwiXHVEODNDXHVERjMxXCI6IFwiWVwiLFxuXHRcdFx0XCJcdTI2QTFcdUZFMEZcIjogXCJaXCIsIFxuXHRcdFx0XCJcdUQ4M0NcdURGNEVcIjogXCJhXCIsIFwiXHVEODNDXHVERjRDXCI6IFwiYlwiLCBcIlx1RDgzQ1x1REY1MlwiOiBcImNcIiwgXCJcdUQ4M0NcdURGNjlcIjogXCJkXCIsIFwiXHVEODNDXHVERjNEXCI6IFwiZVwiLFxuXHRcdFx0XCJcdUQ4M0RcdURDMzhcIjogXCJmXCIsIFwiXHVEODNFXHVERDhEXCI6IFwiZ1wiLCBcIlx1RDgzQ1x1REY2RlwiOiBcImhcIiwgXCJcdUQ4M0NcdURGNjZcIjogXCJpXCIsIFwiXHVEODNDXHVERjM2XHVGRTBGXCI6IFwialwiLFxuXHRcdFx0XCJcdUQ4M0VcdURENURcIjogXCJrXCIsIFwiXHVEODNFXHVERDgxXCI6IFwibFwiLCBcIlx1RDgzQ1x1REY0OFwiOiBcIm1cIiwgXCJcdUQ4M0VcdURENUNcIjogXCJuXCIsIFwiXHVEODNDXHVERjRBXCI6IFwib1wiLFxuXHRcdFx0XCJcdUQ4M0NcdURGNTVcIjogXCJwXCIsIFwiXHVEODNEXHVEQzUxXCI6IFwicVwiLCBcIlx1RDgzRFx1REMwMFwiOiBcInJcIiwgXCJcdUQ4M0RcdURDMERcIjogXCJzXCIsIFwiXHVEODNDXHVERjJFXCI6IFwidFwiLFxuXHRcdFx0XCJcdUQ4M0RcdURDMjFcIjogXCJ1XCIsIFwiXHVEODNDXHVERjQ3XCI6IFwidlwiLCBcIlx1RDgzRFx1RENBQlwiOiBcIndcIiwgXCJcdUQ4M0NcdURGNkFcIjogXCJ4XCIsIFwiXHVEODNFXHVERDkzXCI6IFwieVwiLFxuXHRcdFx0XCJcdUQ4M0NcdURGNkJcIjogXCJ6XCJcblx0XHR9O1xuXHRcdFxuXG5cdFx0cmV0dXJuIEFycmF5LmZyb20oaW5wdXQpLm1hcChjaGFyID0+IHJldmVyc2VDeXBoZXJNYXBbY2hhcl0gfHwgY2hhcikuam9pbihcIlwiKTtcblx0fVxuXG5cdGhhbmRsZVR5cGluZyhlZGl0b3I6IEVkaXRvcikge1xuXHRcdGNvbnN0IGN1cnNvciA9IGVkaXRvci5nZXRDdXJzb3IoKTtcblx0XHRjb25zdCBsaW5lVGV4dCA9IGVkaXRvci5nZXRMaW5lKGN1cnNvci5saW5lKTtcblx0XHRjb25zdCBtb2RpZmllZFRleHQgPSB0aGlzLmlzQ3lwaGVyRW5hYmxlZCA/IHRoaXMudG9DeXBoZXJUZXh0KGxpbmVUZXh0KSA6IHRoaXMucmV2ZXJ0Q3lwaGVyVGV4dChsaW5lVGV4dCk7XG5cdFx0ZWRpdG9yLnNldExpbmUoY3Vyc29yLmxpbmUsIG1vZGlmaWVkVGV4dCk7XG5cdH1cblxuXHRhcHBseUN5cGhlcigpIHtcblx0XHRjb25zdCBlZGl0b3IgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShNYXJrZG93blZpZXcpPy5lZGl0b3I7XG5cdFx0aWYgKGVkaXRvcikge1xuXHRcdFx0Y29uc3QgZnVsbFRleHQgPSBlZGl0b3IuZ2V0VmFsdWUoKTtcblx0XHRcdGVkaXRvci5zZXRWYWx1ZSh0aGlzLnRvQ3lwaGVyVGV4dChmdWxsVGV4dCkpO1xuXHRcdH1cblx0fVxuXG5cdHJldmVydEN5cGhlcigpIHtcblx0XHRjb25zdCBlZGl0b3IgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShNYXJrZG93blZpZXcpPy5lZGl0b3I7XG5cdFx0aWYgKGVkaXRvcikge1xuXHRcdFx0Y29uc3QgZnVsbFRleHQgPSBlZGl0b3IuZ2V0VmFsdWUoKTtcblx0XHRcdGVkaXRvci5zZXRWYWx1ZSh0aGlzLnJldmVydEN5cGhlclRleHQoZnVsbFRleHQpKTtcblx0XHR9XG5cdH1cblxuXHR0cmFuc2Zvcm1UZXh0KGVkaXRvcjogRWRpdG9yKSB7XG5cdFx0Y29uc3Qgc2VsZWN0aW9ucyA9IGVkaXRvci5nZXRTZWxlY3Rpb24oKTtcblx0XHRjb25zdCBjeXBoZXJlZFRleHQgPSB0aGlzLmlzQ3lwaGVyRW5hYmxlZCA/IHRoaXMudG9DeXBoZXJUZXh0KHNlbGVjdGlvbnMpIDogdGhpcy5yZXZlcnRDeXBoZXJUZXh0KHNlbGVjdGlvbnMpO1xuXHRcdGVkaXRvci5yZXBsYWNlU2VsZWN0aW9uKGN5cGhlcmVkVGV4dCk7XG5cdH1cbn1cblxuY2xhc3MgQ3lwaGVyU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xuXHRwbHVnaW46IEN5cGhlclBsdWdpbjtcblxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBDeXBoZXJQbHVnaW4pIHtcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XG5cdH1cblxuXHRkaXNwbGF5KCk6IHZvaWQge1xuXHRcdGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgnaDInLCB7IHRleHQ6ICdDeXBoZXIgUGx1Z2luIFNldHRpbmdzJyB9KTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ0N5cGhlciBTdHlsZScpXG5cdFx0XHQuc2V0RGVzYygnQ2hvb3NlIHRoZSBzdHlsZSBmb3IgY3lwaGVyaW5nIHRleHQnKVxuXHRcdFx0LmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IGRyb3Bkb3duXG5cdFx0XHRcdC5hZGRPcHRpb24oJ2RpYWdyYW1tYXRpYycsICdEaWFncmFtbWF0aWMnKVxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuY3lwaGVyU3R5bGUpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5jeXBoZXJTdHlsZSA9IHZhbHVlO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KSk7XG5cdH1cbn1cbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxzQkFBcUY7QUFNckYsSUFBTSxtQkFBeUM7QUFBQSxFQUM5QyxhQUFhO0FBQ2Q7QUFFQSxJQUFxQixlQUFyQixjQUEwQyx1QkFBTztBQUFBLEVBQWpEO0FBQUE7QUFHQyxTQUFRLGtCQUEyQjtBQUNuQyxTQUFRLGtCQUEyQjtBQUFBO0FBQUEsRUFFbkMsTUFBTSxTQUFTO0FBQ2QsVUFBTSxLQUFLLGFBQWE7QUFHeEIsU0FBSyxjQUFjLFFBQVEsZUFBZSxNQUFNO0FBQy9DLFdBQUssa0JBQWtCLENBQUMsS0FBSztBQUM3QixVQUFJLEtBQUssaUJBQWlCO0FBQ3pCLFlBQUksdUJBQU8sMEJBQTBCO0FBQ3JDLGFBQUssWUFBWTtBQUFBLE1BQ2xCLE9BQU87QUFDTixZQUFJLHVCQUFPLDRCQUE0QjtBQUN2QyxhQUFLLGFBQWE7QUFBQSxNQUNuQjtBQUFBLElBQ0QsQ0FBQyxFQUFFLFNBQVMsNEJBQTRCO0FBR3hDLFNBQUssV0FBVztB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
